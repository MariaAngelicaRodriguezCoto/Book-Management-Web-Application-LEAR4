@model BookManagement.Models.Book
@{
    ViewData["Title"] = "Add New Book";
}

@section Styles {
    <link href="~/css/create-book.css" rel="stylesheet" />
}

<div class="create-book-wrapper">
    <div class="create-book-background">
        <div class="background-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
        </div>
    </div>

    <div class="create-book-container">
        <div class="page-header">
            <div class="header-content">
                <div class="header-left">
                    <div class="page-icon">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                    <div class="header-text">
                        <h1 class="page-title">Add New Book</h1>
                        <p class="page-subtitle">Add a new book to your library collection</p>
                    </div>
                </div>
                <div class="header-right">
                    <a asp-action="Index" class="back-btn">
                        <i class="fas fa-arrow-left"></i>
                        <span>Back to Books</span>
                    </a>
                </div>
            </div>
        </div>

        <div class="form-card">
            <div class="form-header">
                <div class="form-progress">
                    <div class="progress-step active">
                        <div class="step-number">1</div>
                        <span class="step-label">Book Details</span>
                    </div>
                    <div class="progress-line"></div>
                    <div class="progress-step">
                        <div class="step-number">2</div>
                        <span class="step-label">Review</span>
                    </div>
                </div>
            </div>

            <form asp-action="Create" id="createBookForm" class="book-form">
                <div asp-validation-summary="ModelOnly" class="alert alert-danger validation-summary" role="alert"></div>
                
                <div class="form-sections">
                    <div class="form-section active" id="section-1">
                        <div class="section-header">
                            <h3>Basic Information</h3>
                            <p>Enter the essential details about the book</p>
                        </div>

                        <div class="form-grid">
                            <div class="form-group full-width">
                                <div class="input-container">
                                    <label class="label">Title</label>
                                    <input asp-for="Title" 
                                           class="form-input" 
                                           placeholder="The Great Gatsby" 
                                           required />
                                    <div class="input-border"></div>
                                </div>
                                <span asp-validation-for="Title" class="field-validation-error"></span>
                            </div>

                            <div class="form-group full-width">
                                <div class="input-container">
                                    <label class="label">Author</label>
                                    <input asp-for="Author" 
                                           class="form-input" 
                                           placeholder="John Doe" 
                                           required />
                                    <div class="input-border"></div>
                                </div>
                                <span asp-validation-for="Author" class="field-validation-error"></span>
                            </div>

                            <div class="form-group half-width">
                                <div class="input-container">
                                    <label class="label">Genre</label>
                                   <input asp-for="Genre" 
                                           class="form-input" 
                                           placeholder="Science Fiction" 
                                           required />
                                    <div class="input-border"></div>
                                </div>
                                <span asp-validation-for="Genre" class="field-validation-error"></span>
                            </div>

                            <div class="form-group half-width">
                                <div class="input-container">
                                    <label class="label">Publication Date</label>
                                    <input asp-for="PublicationDate" 
                                           class="form-input" 
                                           type="date" />
                                    <div class="input-border"></div>
                                </div>
                                <span asp-validation-for="PublicationDate" class="field-validation-error"></span>
                            </div>

                            <div class="form-group full-width">
                                <div class="input-container">
                                    <label class="label">Description</label>
                                    <textarea asp-for="Description" 
                                              class="form-textarea" 
                                              placeholder="A novel about a man who builds a new life for himself in the American Dream"
                                              rows="4"></textarea>
                                    <div class="input-border"></div>
                                    <div class="character-count">
                                        <span id="charCount">0</span> characters
                                    </div>
                                </div>
                                <span asp-validation-for="Description" class="field-validation-error"></span>
                            </div>
                        </div>

                        <div class="section-actions">
                            <button type="button" class="next-btn" id="nextBtn">
                                <span>Continue</span>
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <div class="form-section" id="section-2">
                        <div class="section-header">
                            <h3>Review & Save</h3>
                            <p>Review your book details before saving</p>
                        </div>

                        <div class="review-card">
                            <div class="review-item">
                                <label>Title:</label>
                                <span id="reviewTitle">-</span>
                            </div>
                            <div class="review-item">
                                <label>Author:</label>
                                <span id="reviewAuthor">-</span>
                            </div>
                            <div class="review-item">
                                <label>Genre:</label>
                                <span id="reviewGenre">-</span>
                            </div>
                            <div class="review-item">
                                <label>Publication Date:</label>
                                <span id="reviewDate">-</span>
                            </div>
                            <div class="review-item">
                                <label>Description:</label>
                                <span id="reviewDescription">-</span>
                            </div>
                        </div>

                        <div class="save-options">
                            <div class="save-option">
                                <input class="custom-checkbox" type="checkbox" id="saveAndAddAnother">
                                <label for="saveAndAddAnother" class="checkbox-label">
                                    <span class="checkmark"></span>
                                    Save and add another book
                                </label>
                            </div>
                        </div>

                        <div class="section-actions">
                            <button type="button" class="back-section-btn" id="backBtn">
                                <i class="fas fa-arrow-left"></i>
                                <span>Back</span>
                            </button>
                            <div class="submit-actions">
                                <a asp-action="Index" class="cancel-btn">
                                    <i class="fas fa-times"></i>
                                    <span>Cancel</span>
                                </a>
                                <button type="submit" class="save-btn" id="saveBtn">
                                    <span class="btn-text">
                                        <i class="fas fa-save"></i>
                                        Save Book
                                    </span>
                                    <div class="btn-loader">
                                        <div class="spinner"></div>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script src="~/js/create-book.js"></script>
}
