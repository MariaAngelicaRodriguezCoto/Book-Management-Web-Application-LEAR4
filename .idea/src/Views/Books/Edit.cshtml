@model BookManagement.Models.Book
@{
    ViewData["Title"] = "Edit Book";
}

@section Styles {
    <link href="~/css/book-edit.css" rel="stylesheet" />
}

<div class="edit-wrapper">
    <div class="edit-background">
        <div class="background-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
        </div>
    </div>

    <div class="edit-container">
        <div class="page-header">
            <div class="header-content">
                <div class="header-left">
                    <div class="page-icon">
                        <i class="fas fa-edit"></i>
                    </div>
                    <div class="header-text">
                        <h1 class="page-title">Edit Book</h1>
                        <p class="page-subtitle">Update book information and details</p>
                    </div>
                </div>
                <div class="header-actions">
                    <a asp-action="Index" class="action-btn back-btn">
                        <i class="fas fa-arrow-left"></i>
                        <span>Back to List</span>
                    </a>
                </div>
            </div>
        </div>

        @if (ViewData["Success"] != null)
        {
            <div class="alert alert-success" role="alert">
                <i class="fas fa-check-circle me-2"></i>
                @ViewData["Success"]
            </div>
        }

        <form asp-action="Edit" id="editBookForm" class="edit-form">
            <input type="hidden" asp-for="Id" />
                <div asp-validation-summary="ModelOnly" class="alert alert-danger validation-summary" role="alert"></div>
                
                <div class="form-content">
                    <div class="form-section">
                        <div class="section-header">
                            <h3>Book Information</h3>
                            <p>Update the essential details about this book</p>
                        </div>

                        <div class="form-grid">
                            <div class="form-group full-width">
                                <div class="input-container">
                                    <div class="input-icon">
                                        <i class="fas fa-book"></i>
                                    </div>
                                    <label class="label">Title</label>
                                    <input asp-for="Title" 
                                           class="form-input" 
                                           placeholder="Enter book title" 
                                           required />
                                    <div class="input-border"></div>
                                </div>
                                <span asp-validation-for="Title" class="field-validation-error"></span>
                            </div>

                            <div class="form-group full-width">
                                <div class="input-container">
                                    <div class="input-icon">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <label class="label">Author</label>
                                    <input asp-for="Author" 
                                           class="form-input" 
                                           placeholder="Enter author name" 
                                           required />
                                    <div class="input-border"></div>
                                </div>
                                <span asp-validation-for="Author" class="field-validation-error"></span>
                            </div>

                            <div class="form-group half-width">
                                <div class="input-container">
                                    <div class="input-icon">
                                        <i class="fas fa-tags"></i>
                                    </div>
                                    <label class="label">Genre</label>
                                    <input asp-for="Genre" 
                                           class="form-input" 
                                           placeholder="Enter book genre" 
                                           required />
                                    <div class="input-border"></div>
                                </div>
                                <span asp-validation-for="Genre" class="field-validation-error"></span>
                            </div>

                            <div class="form-group half-width">
                                <div class="input-container">
                                    <div class="input-icon">
                                        <i class="fas fa-calendar"></i>
                                    </div>
                                    <label class="label">Publication Date</label>
                                    <input asp-for="PublicationDate" 
                                           class="form-input" 
                                           type="date" />
                                    <div class="input-border"></div>
                                </div>
                                <span asp-validation-for="PublicationDate" class="field-validation-error"></span>
                            </div>

                            <div class="form-group full-width">
                                <div class="input-container">
                                    <div class="input-icon textarea-icon">
                                        <i class="fas fa-align-left"></i>
                                    </div>
                                    <label class="label">Description</label>
                                    <textarea asp-for="Description" 
                                              class="form-textarea" 
                                              placeholder="Enter book description"
                                              rows="4"></textarea>
                                    <div class="input-border"></div>
                                    <div class="character-count">
                                        <span id="charCount">0</span> characters
                                    </div>
                                </div>
                                <span asp-validation-for="Description" class="field-validation-error"></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <div class="action-group primary-actions">
                            <button type="submit" class="primary-btn save-btn" id="saveBtn">
                                <span class="btn-text">
                                    <i class="fas fa-save"></i>
                                    Update Book
                                </span>
                                <div class="btn-loader">
                                    <div class="spinner"></div>
                                </div>
                            </button>
                        </div>

                        <div class="action-group secondary-actions">
                            <a asp-action="Index" class="secondary-btn">
                                <i class="fas fa-arrow-left"></i>
                                <span>Back to List</span>
                            </a>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script src="~/js/book-edit.js"></script>
}
